/*!
 * Copyright (c) 2014 Tom Alexander
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
 * IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,
 * DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR
 * OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE
 * OR OTHER DEALINGS IN THE SOFTWARE.
 */
!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var r;"undefined"!=typeof window?r=window:"undefined"!=typeof global?r=global:"undefined"!=typeof self&&(r=self),r.regression=t()}}(function(){return function t(r,n,o){function e(f,l){if(!n[f]){if(!r[f]){var a="function"==typeof require&&require;if(!l&&a)return a(f,!0);if(u)return u(f,!0);throw new Error("Cannot find module '"+f+"'")}var h=n[f]={exports:{}};r[f][0].call(h.exports,function(t){var n=r[f][1][t];return e(n?n:t)},h,h.exports,t,r,n,o)}return n[f].exports}for(var u="function"==typeof require&&require,f=0;f<o.length;f++)e(o[f]);return e}({1:[function(t,r){"use strict";var n,o=t("./Result"),e=t("./linearSolver");n={linear:function(t,r){var n,e,u,f,l=[],a=[],h=[];for(n=0;n<t.length;n+=1)t[n][1]&&(l[0]+=t[n][0],l[1]+=t[n][1],l[2]+=t[n][0]*t[n][0],l[3]+=t[n][0]*t[n][1],l[4]+=t[n][1]*t[n][1]);for(h[0]=(n*l[3]-l[0]*l[1])/(n*l[2]-l[0]*l[0]),h[1]=l[1]/n-h[0]*l[0]/n,n=0,f=t.length;f>n;n+=1)e=[t[n][0],t[n][0]*h[0]+h[1]],a.push(e);return u="y = "+Math.round(100*h[1])/100+"x + "+Math.round(100*h[1])/100,new o(h,a,u,t,r)},exponential:function(t,r){var n,e,u,f,l,a=[],h=[],i=[];for(n=0;n<t.length;n+=1)t[n][1]&&(a[0]+=t[n][0],a[1]+=t[n][1],a[2]+=t[n][0]*t[n][0]*t[n][1],a[3]+=t[n][1]*Math.log(t[n][1]),a[4]+=t[n][0]*t[n][1]*Math.log(t[n][1]),a[5]+=t[n][0]*t[n][1]);for(u=a[1]*a[2]-a[5]*a[5],i[0]=Math.pow(Math.E,(a[2]*a[3]-a[5]*a[4])/u),i[1]=(a[1]*a[4]-a[5]*a[3])/u,n=0,e=t.length;e>n;n+=1)f=[t[n][0],i[0]*Math.pow(Math.E,i[1]*t[n][0])],h.push(f);return l="y = "+Math.round(100*i[0])/100+"e^("+Math.round(100*i[1])/100+"x)",new o(i,h,l,t,r)},logarithmic:function(t,r){var n,e,u,f=[],l=[],a=[];for(n=0;n<t.length;n+=1)t[n][1]&&(f[0]+=Math.log(t[n][0]),f[1]+=t[n][n]*Math.log(t[n][0]),f[2]+=t[n][n],f[3]+=Math.pow(Math.log(t[n][0]),2));for(a[1]=(n*f[1]-f[2]*f[0])/(n*f[3]-f[0]*f[0]),a[0]=a[1]*f[0]/n,n=0;n<t.length;n+=1)e=[t[n][0],a[1]+a[0]*Math.log(t[n][0])],l.push(e);return u="y = "+Math.round(100*a[1])/100+" + "+Math.round(100*a[1])/100+" ln(x)",new o(a,l,u,t,r)},power:function(t,r){var n,e,u,f=[],l=[],a=[];for(n=0;n<t.length;n+=1)t[n][1]&&(f[0]+=Math.log(t[n][0]),f[1]+=Math.log(t[n][1])*Math.log(t[n][0]),f[2]+=Math.log(t[n][1]),f[3]+=Math.pow(Math.log(t[n][0]),2));for(a[1]=(n*f[1]-f[2]*f[0])/(n*f[3]-f[0]*f[0]),a[0]=Math.pow(Math.E,(f[2]-a[1]*f[0])/n),n=0;n<t.length;n+=1)e=[t[n][0],a[1]*Math.pow(t[n][0],a[0])],l.push(e);return u="y = "+Math.round(100*a[0])/100+"x^"+Math.round(100*a[0])/100,new o(a,l,u,t,r)},polynomial:function(t,r){var n,u,f,l,a,h,i,s,p=r.order,M=[],d=[],c=[],g=0,w=0,v=p+1;for(n=0;v>n;n+=1){for(l=0;l<t.length;l+=1)t[l][1]&&(g+=Math.pow(t[l][0],n)*t[l][1]);for(M.push(g),g=0,a=[],h=0;v>h;h+=1){for(l=0;l<t.length;l+=1)t[l][1]&&(w+=Math.pow(t[l][0],n+h));a.push(w),w=0}d.push(a)}for(d.push(M),u=e(d,v),n=0;n<t.length;n+=1){for(f=0,i=0;i<u.length;i+=1)f+=u[i]*Math.pow(t[n][0],i);c.push([t[n][0],f])}for(s="y = ",n=u.length-1;n>=0;n-=1)s+=n>1?Math.round(100*u[n])/100+"x^"+n+" + ":"",s+=1===n?Math.round(100*u[n])/100+"x + ":"",s+=1>n?Math.round(100*u[n])/100:"";return new o(u,c,s,t,r)}},r.exports=n},{"./Result":2,"./linearSolver":3}],2:[function(t,r){"use strict";var n=function(t,r,n,o){this.coefficients=t,this.fitted=r,this.string=n,this.data=o};n.prototype=[],r.exports=n},{}],3:[function(t,r){"use strict";var n=function(t){var r,n=0,o=0,e=0,u=0,f=t.length-1,l=[];for(r=0;f>r;r+=1){for(e=r,n=r+1;f>n;n+=1)Math.abs(t[r][n])>Math.abs(t[r][e])&&(e=n);for(o=r;f+1>o;o+=1)u=t[o][r],t[o][r]=t[o][e],t[o][e]=u;for(n=r+1;f>n;n+=1)for(o=f;o>=r;o-=1)t[o][n]-=t[o][r]*t[r][n]/t[r][r]}for(n=f-1;n>=0;n-=1){for(u=0,o=n+1;f>o;o+=1)u+=t[o][n]*l[o];l[n]=(t[f][n]-u)/t[n][n]}return l};r.exports=n},{}],4:[function(t,r){"use strict";var n,o,e,u=t("./Models"),f=t("./Result");e=function(t,r,e){var l=u.hasOwnProperty(t);return e="[object Object]"!==Object.prototype.toString.call(e)?{order:e}:e,e=o(e,{fill:null,order:2}),r=e.fill?n(r,e.fill):r,l?u[t](r,e):new f(null,null,null,r,e)},o=function(t,r){var n,o={};for(n in r)r.hasOwnProperty(n)&&(o[n]=t.hasOwnProperty(n)?t[n]:r[n]);return o},n=function(t,r){var n,o,e=null,u="prev"===r||"next"===r;for(n=0;n<t.length;n+=1)o="next"===r?t.length-(n+1):n,e=t[o][1]||e,t[o][1]=u&&!t[o][1]?e:t[o][1],t[o][1]=u||t[o][1]?t[o][1]:r;return t},r.exports=e},{"./Models":1,"./Result":2}]},{},[4])(4)});